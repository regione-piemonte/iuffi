<ion-header [translucent]="false">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button icon="arrow-back-outline"> </ion-back-button>
        </ion-buttons>
        <ion-title> {{ 'SEARCH_TRAP' | translate }} </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card>
        <ion-card-header>
            <ion-grid class="ion-no-padding" fixed>
                <ion-row class="ion-padding-vertical">
                    <ion-col class="title">
                        <ion-text class="header">Recupera informazioni su una trappola</ion-text>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-grid class="ion-no-padding" fixed>
                            <ion-row class="ion-padding-vertical">
                                <ion-col>
                                    <ion-text class="subtitle">Inserisci il codice della trappola</ion-text>
                                </ion-col>
                            </ion-row>
                            <ion-row class="ion-align-items-center">
                                <ion-col>
                                    <ion-input
                                        [(ngModel)]="sfrCode"
                                        minlength="4"
                                        maxlength="16"
                                        type="text"
                                    ></ion-input>
                                </ion-col>
                                <ion-col size="2" class="ion-text-right">
                                    <ion-button class="search" (click)="searchTrapByCode()">
                                        <ion-icon slot="icon-only" name="iuffi-search"></ion-icon>
                                    </ion-button>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-header>
        <ion-card-content>
            <ion-grid class="ion-no-padding" fixed>
                <ion-row class="ion-padding-vertical">
                    <ion-col>
                        <ion-text class="subtitle">oppure</ion-text>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col class="ion-text-center">
                        <ion-button size="large" (click)="goToMap()">
                            Ricerca sulla mappa
                            <ion-icon slot="start" name="iuffi-location"></ion-icon>
                            <ion-icon slot="end" name="chevron-forward-outline"></ion-icon>
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-content>
    </ion-card>
    <trap-map-item-selection [trap]="trap" (click)="searchByHistory(trap?.idTrappola)"></trap-map-item-selection>
</ion-content>
